<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Treblitterz-X Game Portal</title>
  <style>
    body { font-family: Arial, sans-serif; background: #111; color: #fff; padding: 20px; }
    h1 { text-align: center; }
    .game-card { margin: 15px 0; padding: 10px; background: #222; border-radius: 8px; }
    .game-card h2 { margin: 0 0 5px 0; }
    .button-group { margin-bottom: 10px; }
    .play-button, .close-button, .fullscreen-button { 
      padding: 5px 10px; 
      margin-right: 5px; 
      cursor: pointer; 
      background: #0a84ff; 
      border: none; 
      color: #fff; 
      border-radius: 5px; 
    }
    iframe { 
      width: 100%; 
      aspect-ratio: 16/9; 
      border: none; 
      display: none; 
      margin-top: 10px; 
    }
  </style>
</head>
<body>
  <h1>Treblitterz-X Game Portal</h1>
  <div id="games"></div>

  <script>
    const games = [
      { name: "Marble Blast Ultra", url: "https://marbleblastultra.randomityguy.me" },
      { name: "Marble Blast Vanilla", url: "https://marbleblast.vaniverse.io" },
      { name: "Marble Blast Randomity", url: "https://marbleblast.randomityguy.me" },
      { name: "CS 1.6 Online", url: "https://play-cs.com" },
      { name: "Bloxorz", url: "https://bloxorz.game-files.crazygames.com/ruffle/bloxorz.html?ssrDevice=desktop&isNewUser=false&v=1.338" },
      { name: "Funny Shooter 2", url: "https://www.gamenora.com/embed/funny-shooter-2" } // new game added
    ];

    const container = document.getElementById('games');

    games.forEach(game => {
      const card = document.createElement('div');
      card.className = 'game-card';
      card.innerHTML = `
        <h2>${game.name}</h2>
        <div class="button-group">
          <button class="play-button">Play Game</button>
          <button class="close-button" style="display:none;">Close</button>
          <button class="fullscreen-button" style="display:none;">Fullscreen</button>
        </div>
        <iframe allow="accelerometer; gyroscope; gamepad; autoplay; payment; fullscreen; microphone; clipboard-read; clipboard-write 'self'" 
                webkitallowfullscreen="true" 
                mozallowfullscreen="true" 
                msallowfullscreen="true" 
                allowfullscreen="true" 
                sandbox="allow-forms allow-modals allow-orientation-lock allow-pointer-lock allow-popups allow-presentation allow-scripts allow-same-origin allow-downloads allow-popups-to-escape-sandbox"></iframe>
      `;

      const btnPlay = card.querySelector('.play-button');
      const btnClose = card.querySelector('.close-button');
      const btnFull = card.querySelector('.fullscreen-button');
      const iframe = card.querySelector('iframe');

      btnPlay.addEventListener('click', () => {
        iframe.src = game.url;
        iframe.style.display = 'block';
        btnPlay.style.display = 'none';
        btnClose.style.display = 'inline-block';
        btnFull.style.display = 'inline-block';
      });

      btnClose.addEventListener('click', () => {
        iframe.src = '';
        iframe.style.display = 'none';
        btnPlay.style.display = 'inline-block';
        btnClose.style.display = 'none';
        btnFull.style.display = 'none';
      });

      btnFull.addEventListener('click', () => {
        if (iframe.requestFullscreen) {
          iframe.requestFullscreen();
        } else if (iframe.webkitRequestFullscreen) {
          iframe.webkitRequestFullscreen();
        } else if (iframe.mozRequestFullScreen) {
          iframe.mozRequestFullScreen();
        } else if (iframe.msRequestFullscreen) {
          iframe.msRequestFullscreen();
        }
      });

      container.appendChild(card);
    });
  </script>
</body>
</html>

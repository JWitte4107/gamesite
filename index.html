<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Treblitterz-X Game Portal</title>
  <style>
    body { font-family: Arial, sans-serif; background: #111; color: #fff; padding: 20px; }
    h1 { text-align: center; }
    .game-card { margin: 15px 0; padding: 10px; background: #222; border-radius: 8px; }
    .game-card h2 { margin: 0 0 5px 0; }
    .button-group { display: flex; gap: 5px; margin-bottom: 10px; }
    .play-button, .close-button, .fullscreen-button { 
      padding: 5px 10px; 
      cursor: pointer; 
      background: #0a84ff; 
      border: none; 
      color: #fff; 
      border-radius: 5px; 
    }
    iframe { 
      width: 100%; 
      aspect-ratio: 16/9; 
      border: none; 
      display: none; 
      margin-top: 10px; 
    }
  </style>
</head>
<body>
  <h1>Treblitterz-X Game Portal</h1>
  <div id="games"></div>

  <script>
    const games = [
      { name: "Marble Blast Ultra", url: "https://marbleblastultra.randomityguy.me" },
      { name: "Marble Blast Vanilla", url: "https://marbleblast.vaniverse.io" },
      { name: "Marble Blast Randomity", url: "https://marbleblast.randomityguy.me" },
      { name: "CS 1.6 Online", url: "https://play-cs.com" },
      { name: "Bloxorz", url: "https://bloxorz.game-files.crazygames.com/ruffle/bloxorz.html?ssrDevice=desktop&isNewUser=false&v=1.338" },
      { name: "Funny Shooter 2", url: "https://www.gamenora.com/embed/funny-shooter-2" },
      { name: "Smash Your Computer", url: "https://www.gamenora.com/embed/smash-your-computer-" },
      { 
        name: "We Become What We Behold", 
        url: "https://4041ad3f-ee25-483b-ae8b-51b16b86ac67.poki-gdn.com/c2e2e416-d187-42ef-a501-85ff9c905ad4/index.html?country=US&ccpaApplies=0&url_referrer=https%3A%2F%2Fpoki.com%2F&tag=pg-4f28d79996a232972ce2f42a84e3db5d8605ca8d&site_id=3&iso_lang=en&poki_url=https%3A%2F%2Fpoki.com%2Fen%2Fg%2Fwe-become-what-we-behold&hoist=yes&nonPersonalized=n&cloudsavegames=n&familyFriendly=n&categories=6%2C7%2C37%2C67%2C91%2C826%2C1139%2C1140%2C1166%2C1190&game_id=4041ad3f-ee25-483b-ae8b-51b16b86ac67&game_version_id=c2e2e416-d187-42ef-a501-85ff9c905ad4&inspector=0&csp=1"
      }
    ];

    const container = document.getElementById('games');

    games.forEach(game => {
      const card = document.createElement('div');
      card.className = 'game-card';
      card.innerHTML = `
        <h2>${game.name}</h2>
        <div class="button-group">
          <button class="play-button">Play Game</button>
          <button class="close-button" style="display:none;">Close</button>
          <button class="fullscreen-button" style="display:none;">Fullscreen</button>
        </div>
        <iframe allow="accelerometer; gyroscope; gamepad; autoplay; payment; fullscreen; microphone; clipboard-read; clipboard-write 'self'" 
                webkitallowfullscreen="true" 
                mozallowfullscreen="true" 
                msallowfullscreen="true" 
                allowfullscreen="true" 
                sandbox="allow-forms allow-modals allow-orientation-lock allow-pointer-lock allow-popups allow-presentation allow-scripts allow-same-origin allow-downloads allow-popups-to-escape-sandbox"></iframe>
      `;

      const btnPlay = card.querySelector('.play-button');
      const btnClose = card.querySelector('.close-button');
      const btnFull = card.querySelector('.fullscreen-button');
      const iframe = card.querySelector('iframe');

      btnPlay.addEventListener('click', () => {
        // Close all other iframes first
        document.querySelectorAll('iframe').forEach(f => {
          f.style.display = 'none';
          f.src = '';
        });
        document.querySelectorAll('.play-button').forEach(b => b.style.display = 'inline-block');
        document.querySelectorAll('.close-button, .fullscreen-button').forEach(b => b.style.display = 'none');

        // Open this game
        iframe.src = game.url;
        iframe.style.display = 'block';
        btnPlay.style.display = 'none';
        btnClose.style.display = 'inline-block';
        btnFull.style.display = 'inline-block';
      });

      btnClose.addEventListener('click', () => {
        iframe.src = '';
        iframe.style.display = 'none';
        btnPlay.style.display = 'inline-block';
        btnClose.style.display = 'none';
        btnFull.style.display = 'none';
      });

      btnFull.addEventListener('click', () => {
        if (iframe.requestFullscreen) {
          iframe.requestFullscreen();
        } else if (iframe.webkitRequestFullscreen) {
          iframe.webkitRequestFullscreen();
        } else if (iframe.mozRequestFullScreen) {
          iframe.mozRequestFullScreen();
        } else if (iframe.msRequestFullscreen) {
          iframe.msRequestFullscreen();
        }
      });

      container.appendChild(card);
    });

    // Keyboard shortcut: Esc closes all iframes
    document.addEventListener('keydown', (e) => {
      if (e.key === 'Escape') {
        document.querySelectorAll('iframe').forEach(f => f.style.display = 'none');
        document.querySelectorAll('.play-button').forEach(b => b.style.display = 'inline-block');
        document.querySelectorAll('.close-button, .fullscreen-button').forEach(b => b.style.display = 'none');
      }
    });
  </script>
</body>
</html>
